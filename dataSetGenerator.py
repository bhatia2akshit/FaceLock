import cv2,osfrom PIL import Imagedef generateDataSet(empCode):    cam = cv2.VideoCapture(0)    detector=cv2.CascadeClassifier('./Classifiers/face.xml')    if not os.path.exists('./dataSet'):        os.makedirs('dataSet')    i=1    offset=50    name=empCode    while True:        ret, im =cam.read()        gray=cv2.cvtColor(im,cv2.COLOR_BGR2GRAY)        faces=detector.detectMultiScale(gray, scaleFactor=1.2, minNeighbors=5, minSize=(100, 100), flags=cv2.CASCADE_SCALE_IMAGE)        for(x,y,w,h) in faces:            #print str(i)+" i first"            #print str(w)+" width"            if(w<200 or w>450):                print str(i)+" what is he doing bro!!"               # i=i-1            else:                cv2.imwrite(                    "./dataSet/" + "temp" + ".jpg", gray[y - offset:y + h + offset, x - offset:x + w + offset])                image_path="./dataSet/" + "temp" + ".jpg"                try:                    #print "before try"                    image_pil = Image.open(image_path).convert('L')                    print "in try"                except:                    print "in except"                    continue                print "all is well"                cv2.rectangle(im,(x-50,y-50),(x+w+50,y+h+50),(225,0,0),2)                cv2.imwrite(                    "./dataSet/" + name + '.' + str(                        i) + ".jpg", gray[y - offset:y + h + offset, x - offset:x + w + offset])                cv2.imshow('im',im[y:y+h,x:x+w])                cv2.waitKey(100)                i+=1        if i>20:            cam.release()            cv2.destroyAllWindows()            break